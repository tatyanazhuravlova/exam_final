"use strict";docReady(function(){function e(e){var n=s.value;n&&t(encodeURIComponent(n))}function t(e){var t,o,c=void 0===e?"":e,l="all",s=7;"onload"in new XMLHttpRequest?(t=new XMLHttpRequest,o="https://"):(t=new XDomainRequest,o="http://");var u=o+"pixabay.com/api/?key=3650660-4488e4e0e00637d736b251941"+c+"&orientation="+l+"&per_page="+s+"&image_type=photo&pretty=true";t.open("GET",u),t.onload=function(){var e;try{e=JSON.parse(t.responseText)}catch(o){return a(),d.innerHTML='<h2 class="content__title--partners">Server error</h2>',void(d.style.height="50px")}return e.hits.length<7?(a(),d.innerHTML='<h2 class="content__title--partners">Not found</h2>',void(d.style.height="50px")):(a(),i(e.hits.map(r)),void n())},t.send()}function n(){new Masonry(d,{columnWidth:".grid__sizer",itemSelector:".grid__item",percentPosition:!0,gutter:0})}function r(e){var t;return t=e.webformatHeight>e.webformatWidth?"vertical":e.webformatWidth/e.webformatHeight>1.6?"horizontal":"polaroid",{text:e.tags,orientation:t,url:e.webformatURL}}function a(){d.innerHTML=""}function i(e){var t,n=document.createElement("div");n.className="grid__sizer",d.appendChild(n);for(var r=0,a=e.length;a>r;r++){t=document.createElement("div");var i=document.createElement("div"),o=document.createElement("span");switch(e[r].orientation){case"vertical":t.className="grid__item grid__item--height2";break;case"horizontal":t.className="grid__item grid__item--width2";break;case"polaroid":t.className="grid__item";break;default:t.className="grid__item"}i.style.backgroundImage='url("'+e[r].url+'")',i.className="grid__img",t.appendChild(i),o.innerHTML=e[r].text,o.className="grid__title",t.appendChild(o),d.appendChild(t)}}var o=document.querySelectorAll(".carousel"),c=[];[].forEach.call(o,function(e,t){c[t]=new Flickity(e,{prevNextButtons:!1,autoPlay:!0,wrapAround:!0,contain:!0,cellSelector:".carousel__cell",pageDots:!1});var n=e.querySelectorAll(".carousel__nav");e.addEventListener?n[0].addEventListener("click",function(){c[t].next()}):n[0].attachEvent("onclick",function(){c[t].next()}),e.addEventListener?n[1].addEventListener("click",function(){c[t].previous()}):n[1].attachEvent("onclick",function(){c[t].previous()})});var l,d=document.querySelector(".grid"),s=document.querySelectorAll(".search-block__input")[0],u=document.querySelectorAll(".search-block__btn")[0];l=u.addEventListener?u.addEventListener("click",e):u.attachEvent("onclick",e),t()});
//# sourceMappingURL=../maps/script.js.map
